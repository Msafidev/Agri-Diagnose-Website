{% extends 'base.html' %}
{% block tittle%}Contact | Agri-Diagnose-Kenya{% endblock %}
{% block content %}

<style>
    .contact-section {
        max-width: 650px;
        margin: 50px auto;
        padding: 40px;
        background: #ffffff;
        border-radius: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        border: 1px solid #e6e6e6;
        animation: fadeIn 0.8s ease;
    }

    .contact-title {
        font-size: 32px;
        font-weight: 700;
        color: #1b5e20;
        text-align: center;
        margin-bottom: 15px;
    }

    .contact-subtitle {
        text-align: center;
        color: #555;
        margin-bottom: 30px;
        font-size: 15px;
    }

    .form-control {
        border-radius: 12px;
        padding: 14px;
        border: 1px solid #cfcfcf;
        transition: 0.3s;
    }

    .form-control:focus {
        border-color: #2e7d32;
        box-shadow: 0 0 5px rgba(46, 125, 50, 0.4);
    }

    .contact-btn {
        width: 100%;
        padding: 14px;
        border-radius: 12px;
        background-color: #2e7d32;
        border: none;
        color: #fff;
        font-size: 18px;
        font-weight: 600;
        transition: 0.3s;
    }

    .contact-btn:hover {
        background-color: #1b5e20;
        transform: translateY(-2px);
    }

    .success-msg {
        text-align: center;
        background: #e8f5e9;
        border: 1px solid #a5d6a7;
        padding: 10px 15px;
        border-radius: 10px;
        color: #1b5e20;
        margin-top: 20px;
        font-weight: 500;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to   { opacity: 1; transform: translateY(0); }
    }
</style>

<section class="contact-section">
    <h2 class="contact-title">Contact Agri-Diagnose Kenya</h2>
    <p class="contact-subtitle">
        Have a question? Want to collaborate? Send us a message.
    </p>

    <form method="POST">
        {% csrf_token %}

        <div class="mb-3">
            <input type="text" name="name" class="form-control" placeholder="Your full name" required>
        </div>

        <div class="mb-3">
            <input type="text" name="phone" class="form-control" placeholder="Phone number" required>
        </div>

        <div class="mb-3">
            <input type="email" name="email" class="form-control" placeholder="Email address" required>
        </div>

        <div class="mb-3">
            <textarea name="message" class="form-control" rows="4" placeholder="Write your message..." required></textarea>
        </div>

        <button type="submit" class="contact-btn">Send Message</button>
    </form>

    {% if messages %}
        {% for message in messages %}
            <p class="success-msg">{{ message }}</p>
        {% endfor %}
    {% endif %}
</section>

<!-- SUCCESS POPUP MODAL -->
<div class="modal fade" id="successModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="border-radius: 20px;">

            <div class="modal-header bg-success text-white" style="border-radius: 20px 20px 0 0;">
                <h5 class="modal-title">Message Sent!</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body text-center p-4">
                <h5 class="text-success mb-2">Thank you!</h5>
                <p>Your message has been received. Our Agri-Diagnose team will get back to you shortly.</p>
                <img src="../../static/images/fav.png" width="60" class="mt-2">
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-success w-100" data-bs-dismiss="modal" style="border-radius: 12px;">
                    Okay
                </button>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        {% if messages %}
            {% for message in messages %}
                {% if message.tags == "success" %}
                    var successModal = new bootstrap.Modal(document.getElementById('successModal'));
                    successModal.show();
                {% endif %}
            {% endfor %}
        {% endif %}
    });
</script>

{% endblock %}